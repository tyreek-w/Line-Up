{"version":3,"sources":["../../../profiles/Controllers/UserController.js"],"names":["dbmain","require","bcrypt","exports","use","req","res","User","model","validatePassword","user","testPass","console","log","passwordHash","compare","err"],"mappings":"AAAA;;AACA,IAAMA,SAASC,QAAQ,wBAAR,CAAf;AACA,IAAMC,SAASD,QAAQ,QAAR,CAAf;;AAGAE,QAAQC,GAAR,GAAc,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC9B,QAAIC,OAAOP,OAAOQ,KAAP,CAAa,MAAb,CAAX;AACA;AACAD,SAAKE,gBAAL,GAAwB,UAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AAC9CC,gBAAQC,GAAR,CAAY,wBAAwB,KAAxB,GAAgCH,KAAKI,YAArC,GAAoD,OAApD,GAA8DH,QAA1E;AACAT,eAAOa,OAAP,CAAeJ,QAAf,EAAyBD,KAAKI,YAA9B,EAA4C,UAACE,GAAD,EAAMV,GAAN,EAAc;AACtD,gBAAIU,GAAJ,EAAS,OAAQA,GAAR,CAAT,KACI;AACA,oBAAGV,GAAH,EAAQ;AACJM,4BAAQC,GAAR,CAAY,uBAAZ;AACA,2BAAOP,GAAP;AACH,iBAHD,MAIK;AACDM,4BAAQC,GAAR,CAAY,uBAAZ;AACA,2BAAOP,GAAP;AACH;AACJ;AACJ,SAZD;AAaH,KAfD;AAgBA,WAAOC,IAAP;AACH,CApBD","file":"UserController.js","sourcesContent":["'use strict';\nconst dbmain = require('../../config/DB/DBmain');\nconst bcrypt = require('bcrypt');\n\n\nexports.use = function (req, res) {\n    let User = dbmain.model(\"User\");\n    //validates user password\n    User.validatePassword = function (user, testPass) {\n        console.log(\"Validating password\" + \" : \" + user.passwordHash + \" and \" + testPass);\n        bcrypt.compare(testPass, user.passwordHash, (err, res) => {\n            if (err) return (err);\n            else{\n                if(res) {\n                    console.log(\"validate successfully\");\n                    return res;\n                }\n                else {\n                    console.log(\"validate unsuccessful\");\n                    return res;\n                }\n            }\n        });\n    };\n    return User;\n};"]}