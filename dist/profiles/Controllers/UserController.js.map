{"version":3,"sources":["../../../profiles/Controllers/UserController.js"],"names":["dbmain","require","bcrypt","module","exports","validatePassword","user","req","console","log","passwordHash","body","password","compare","err","res","status","send","error"],"mappings":"AAAA;;;;AACA,IAAMA,SAASC,QAAQ,wBAAR,CAAf;AACA,IAAMC,SAASD,QAAQ,QAAR,CAAf;;AAGAE,OAAOC,OAAP,GAAiB;AACPC,oBADO;AAAA,4FACWC,IADX,EACiBC,GADjB;AAAA;AAAA;AAAA;AAAA;AAET,gCAAI;AACAC,wCAAQC,GAAR,CAAY,wBAAwB,KAAxB,GAAgCH,KAAKI,YAArC,GAAoD,OAApD,GAA8DH,IAAII,IAAJ,CAASC,QAAnF;AACAV,uCAAOW,OAAP,CAAeN,IAAII,IAAJ,CAASC,QAAxB,EAAkCN,KAAKI,YAAvC,EAAqD,UAACI,GAAD,EAAMC,GAAN,EAAc;AAC/D,wCAAGD,GAAH,EAAQ,MAAMA,GAAN;AACR,wCAAGC,GAAH,EAAQ;AACAP,gDAAQC,GAAR,CAAY,uBAAZ;AACA,+CAAOM,GAAP;AACP,qCAHD,MAIK;AACDP,gDAAQC,GAAR,CAAY,2BAA2BM,GAAvC;AACA,+CAAOA,GAAP;AACH;AACJ,iCAVD;AAWH,6BAbD,CAaE,OAAMD,GAAN,EAAW;AACTC,oCAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,2CAAO,0DAA0DJ;AADhD,iCAArB;AAGH;;AAnBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAjB","file":"UserController.js","sourcesContent":["'use strict';\nconst dbmain = require('../../config/DB/DBmain');\nconst bcrypt = require('bcrypt');\n\n\nmodule.exports = {\n    async validatePassword (user, req) {\n        try {\n            console.log(\"Validating password\" + \" : \" + user.passwordHash + \" and \" + req.body.password);\n            bcrypt.compare(req.body.password, user.passwordHash, (err, res) => {\n                if(err) throw(err);\n                if(res) {\n                        console.log(\"validate successfully\");\n                        return res;\n                }\n                else {\n                    console.log(\"validate unsuccessful \" + res);\n                    return res;\n                }\n            })\n        } catch(err) {\n            res.status(500).send({\n                error: 'An error has occurred trying to validate password: \\n' + err\n            })\n        }\n    }\n};"]}